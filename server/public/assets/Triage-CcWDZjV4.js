import{r as g,u as x,c as d,b as a,d as k,e as o,w as i,E as y,F as V,o as p,f as r,g as v}from"./index-C2VwTE3s.js";import{E as w,h as E}from"./http-K1XqM7fZ.js";import{M as T}from"./index-BMSQkwth.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"input"},b={class:"buttons"},B={ref:"file",type:"file",class:"file"},F=["innerHTML"],N={__name:"Triage",setup(R){const t=g({loading:!1,text:"",fileRef:x("file"),result:""}),f=T();function u(){t.fileRef.click()}async function c(){const s=t.fileRef.files[0];s||v.error("请选择门诊数据"),t.loading=!0;const e=new FormData;e.append("file",s),e.append("text",t.text);const n=await E.post("/api/triage",e);t.result=f.render(n.data.data.replace(/<think>[\s\S]*?<\/think>/g,"")),t.loading=!1}function m(){t.text="",t.result=""}return(s,e)=>{const n=w,l=y;return p(),d(V,null,[e[4]||(e[4]=a("div",{class:"title"},"分诊导诊",-1)),a("div",M,[o(n,{modelValue:t.text,"onUpdate:modelValue":e[0]||(e[0]=_=>t.text=_),rows:5,type:"textarea",placeholder:"请输入症状用于智能导诊"},null,8,["modelValue"])]),a("div",b,[a("input",B,null,512),o(l,{type:"primary",onClick:u},{default:i(()=>e[1]||(e[1]=[r("门诊数据")])),_:1,__:[1]}),o(l,{type:"primary",onClick:c,loading:t.loading},{default:i(()=>e[2]||(e[2]=[r("智能导诊")])),_:1,__:[2]},8,["loading"]),o(l,{type:"primary",onClick:m},{default:i(()=>e[3]||(e[3]=[r("清空内容")])),_:1,__:[3]})]),t.result?(p(),d("div",{key:0,innerHTML:t.result,class:"content"},null,8,F)):k("",!0)],64)}}},h=C(N,[["__scopeId","data-v-951a307f"]]);export{h as default};
